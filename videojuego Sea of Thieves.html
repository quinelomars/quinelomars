<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiniela</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }

    table {
        width: 100%;
        border-collapse: collapse;
    }

    th, td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: center;
    }

    th {
        background-color: #f2f2f2;
    }

    .selected-row {
        background-color: aqua;
    }

    .resultado-correcto {
        background-color: #4CAF50; /* Verde para resultado correcto */
    }
</style>
</head>
<body>
    <h1>Quiniela</h1>
    <input type="text" id="searchInput" onkeyup="buscarQuiniela()" placeholder="Buscar por nombre...">
    <table id="quiniela">
        <thead>
            <tr>
                <th>Nombre del Participante</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>AMERICA VS CHIVAS 3-0</th>
                <th>Goles Totales 15</th>
                <th>Total de Puntos</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Jugador 1</td>
                <td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td>
                <td>0</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 2</td>
                <td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td>
                <td>0</td>
                <td>0</td>
            </tr>
 <tr>
                <td>Jugador 1</td>
                <td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td>
                <td>15</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 2</td>
                <td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td>
                <td>200</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 3</td>
                <td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td>
                <td>17</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 4</td>
                <td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td>
                <td>16</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 5</td>
                <td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td>
                <td>16</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 6</td>
                <td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td>
                <td>14</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 7</td>
                <td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td>
                <td>14</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 8</td>
                <td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td>
                <td>16</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 9</td>
                <td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td><td>E</td>
                <td>22</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 10</td>
                <td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td><td>V</td>
                <td>13</td>
                <td>0</td>
            </tr>
            <tr>
                <td>Jugador 11</td>
                <td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td><td>L</td>
                <td>24</td>
                <td>0</td>
            </tr>
            <!-- Agrega más filas según la cantidad de participantes -->
        </tbody>
    </table>
    <script>
        var participantes = document.querySelectorAll("#quiniela tr");

        function buscarQuiniela() {
            var input, filter, table, tr, td, i, txtValue;
            input = document.getElementById("searchInput");
            filter = input.value.toUpperCase();
            table = document.getElementById("quiniela");
            tr = table.getElementsByTagName("tr");
            for (i = 1; i < tr.length; i++) { // Comenzamos en 1 para omitir la fila de encabezados
                td = tr[i].getElementsByTagName("td")[0];
                if (td) {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        tr[i].classList.add("selected-row");
                        tr[i].scrollIntoView({ behavior: "smooth", block: "center" });
                    } else {
                        tr[i].classList.remove("selected-row");
                    }
                }
            }
        }

        function actualizarResultado(partido, resultado) {
            var table = document.getElementById("quiniela");
            for (var i = 1; i < table.rows.length; i++) {
                var participante = table.rows[i].cells[0].innerText;
                if (participante !== "Total") {
                    var cell = table.rows[i].cells[partido];
                    var cellValue = cell.innerText.trim().toUpperCase();
                    var resultadoValue = resultado.trim().toUpperCase();
                    if (cellValue === resultadoValue) {
                        cell.classList.add("resultado-correcto");
                        var puntosCell = table.rows[i].cells[11];
                        puntosCell.innerText = parseInt(puntosCell.innerText) + 1;
                    }
                }
            }
            ordenarTabla();
        }

        function ordenarTabla() {
            var table, rows, switching, i, shouldSwitch;
            table = document.getElementById("quiniela");
            switching = true;
            while (switching) {
                switching = false;
                rows = table.rows;
                for (i = 1; i < (rows.length - 1); i++) {
                    shouldSwitch = false;
                    var x = parseInt(rows[i].cells[11].innerText); // Puntos actual
                    var y = parseInt(rows[i + 1].cells[11].innerText); // Puntos siguiente
                    if (x < y) {
                        shouldSwitch = true;
                        break;
                    } else if (x === y) {
                        var totalGoles = 15; // Número de goles totales en la quiniela
                        var participante1Goles = parseInt(rows[i].cells[10].innerText); // Goles del participante 1
                        var participante2Goles = parseInt(rows[i + 1].cells[10].innerText); // Goles del participante 2
                        var distancia1 = Math.abs(totalGoles - participante1Goles);
                        var distancia2 = Math.abs(totalGoles - participante2Goles);
                        if (distancia1 > distancia2) {
                            shouldSwitch = true;
                            break;
                        }
                    }
                }
                if (shouldSwitch) {
                    rows[i].parentNode.insertBefore(rows[i + 1], rows[i]); // Mueve la fila hacia arriba
                    switching = true;
                }
            }
        }

        actualizarResultado(1, "E");
        actualizarResultado(2, "E");
        actualizarResultado(3, "L");
        actualizarResultado(4, "E");
        actualizarResultado(5, "L");
        actualizarResultado(6, "E");
        actualizarResultado(7, "V");
        actualizarResultado(8, "L");
        actualizarResultado(9, "E");
    </script>
</body>
</html>
